@using dOSC.Client.Engine
@using dOSC.Client.Engine.Nodes.Connectors.Activity
@using dOSC.Client.Engine.Nodes.Connectors.OSC
@using dOSC.Client.Engine.Nodes.Logic
@using dOSC.Client.Engine.Nodes.Mathematics
@using dOSC.Client.Engine.Nodes.Utility
@using dOSC.Client.Engine.Nodes.Variables
@using dOSC.Client.Services
<WiresheetToolbar>
    <ChildContent>
        @Options
        <WiresheetToolbarDropdown Title="Blocks">
            <WiresheetToolbarDropdownSubmenuItem Title="Connectors">
                <WiresheetToolbarDropdownSubmenuItem Title="Activity">
                    <WiresheetToolbarDropdownItem Title="Pulsoid" OnClick="() => App.Data.Diagram.Nodes.Add(new PulsoidNode(service: SB, position: App.Data.Diagram.GetCenterOfScreen()))"/>
                </WiresheetToolbarDropdownSubmenuItem>
                <WiresheetToolbarDropdownSubmenuItem Title="OSC">
                    <WiresheetToolbarDropdownItem Title="OSC Read" OnClick="()=> App.Data.Diagram.Nodes.Add(new OSCReadNode(service: SB, position: App.Data.Diagram.GetCenterOfScreen()))"/>
                    <WiresheetToolbarDropdownItem Title="OSC Write" OnClick="() => App.Data.Diagram.Nodes.Add(new OSCWriteNode(service: SB, position: App.Data.Diagram.GetCenterOfScreen()))"/>
                </WiresheetToolbarDropdownSubmenuItem>
            </WiresheetToolbarDropdownSubmenuItem>
            <WiresheetToolbarDropdownSubmenuItem Title="Variables">
                <WiresheetToolbarDropdownItem Title="Logic" OnClick="() => App.Data.Diagram.Nodes.Add(new LogicNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Numeric" OnClick="() => App.Data.Diagram.Nodes.Add(new NumericNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
            </WiresheetToolbarDropdownSubmenuItem>
            <WiresheetToolbarDropdownSubmenuItem Title="Logic">
                <WiresheetToolbarDropdownItem Title="And" OnClick="() => App.Data.Diagram.Nodes.Add(new AndNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Equal" OnClick="() => App.Data.Diagram.Nodes.Add(new EqualNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Greater Than" OnClick="()=> App.Data.Diagram.Nodes.Add(new GreaterThanNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Greater Than Equal" OnClick="() => App.Data.Diagram.Nodes.Add(new GreaterThanEqualNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Less Than" OnClick="() => App.Data.Diagram.Nodes.Add(new LessThanNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Less Than Equal" OnClick="() => App.Data.Diagram.Nodes.Add(new LessThanEqualNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Not" OnClick="() => App.Data.Diagram.Nodes.Add(new NotNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Not Equal" OnClick="() => App.Data.Diagram.Nodes.Add(new NotEqualNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Or" OnClick="() => App.Data.Diagram.Nodes.Add(new OrNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="XOr" OnClick="() => App.Data.Diagram.Nodes.Add(new XOrNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
            </WiresheetToolbarDropdownSubmenuItem>
            <WiresheetToolbarDropdownSubmenuItem Title="Math">
                <WiresheetToolbarDropdownItem Title="Absolute" OnClick="() => App.Data.Diagram.Nodes.Add(new AbsoluteNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Add" OnClick="() => App.Data.Diagram.Nodes.Add(new AddNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Average" OnClick="()=>App.Data.Diagram.Nodes.Add(new AverageNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Clamp" OnClick="()=> App.Data.Diagram.Nodes.Add(new ClampNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Division" OnClick="() => App.Data.Diagram.Nodes.Add(new DivisionNode(position: App.Data.Diagram.GetCenterOfScreen()))"/>
                <WiresheetToolbarDropdownItem Title="Multiplication" OnClick="(()=> App.Data.Diagram.Nodes.Add(new MultiplicationNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Power" OnClick="(()=> App.Data.Diagram.Nodes.Add(new PowerNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Sine" OnClick="(()=> App.Data.Diagram.Nodes.Add(new SineNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Square Root" OnClick="(()=> App.Data.Diagram.Nodes.Add(new SquareRootNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Subtract" OnClick="(()=> App.Data.Diagram.Nodes.Add(new SubtractNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
            </WiresheetToolbarDropdownSubmenuItem>
            <WiresheetToolbarDropdownSubmenuItem Title="Utility">
                <WiresheetToolbarDropdownItem Title="Delay" OnClick="(()=>  App.Data.Diagram.Nodes.Add(new DelayNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Invert" OnClick="(()=>  App.Data.Diagram.Nodes.Add(new InvertNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Logic Switch" OnClick="(() => App.Data.Diagram.Nodes.Add(new LogicSwitchNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Note" OnClick="(() => App.Data.Diagram.Nodes.Add(new NoteNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Numeric Switch" OnClick="(() => App.Data.Diagram.Nodes.Add(new NumericSwitchNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
                <WiresheetToolbarDropdownItem Title="Random" OnClick="(() => App.Data.Diagram.Nodes.Add(new RandomNode(position: App.Data.Diagram.GetCenterOfScreen())))"/>
            </WiresheetToolbarDropdownSubmenuItem>
        </WiresheetToolbarDropdown>
    </ChildContent>
</WiresheetToolbar>


@code {
    [Parameter] public AppLogic App { get; set; }


    [Parameter] public RenderFragment Options { get; set; }

    [Inject] public dOSCService? _dOSC { get; set; }
    [Inject] public ServiceBundle? SB { get; set; }


}